---
article: false
title: 安装
order: 1
date: 2023-03-20 22:10:47
---
[[toc]]

# 安装
## docker安装
1. 设置路径
```
export GITLAB_HOME=/srv/gitlab
```

2. GitLab 容器使用主机装载的卷来存储持久性数据：

|本地位置	|集装箱位置	|用法|
|---|---|---|
|$GITLAB_HOME/data	|/var/opt/gitlab	|用于存储应用程序数据。|
|$GITLAB_HOME/logs	|/var/log/gitlab	|用于存储日志。|
|$GITLAB_HOME/config	|/etc/gitlab	|用于存储 GitLab 配置文件。|

3. 使用 Docker 引擎安装 GitLab
您可以微调这些目录以满足您的要求。 设置变量后，可以运行映像：GITLAB_HOME
```
sudo docker run --detach \
  --hostname gitlab.example.com \
  --publish 10443:443 --publish 10080:80 --publish 10022:22 \
  --name gitlab \
  --restart always \
  --volume $GITLAB_HOME/config:/etc/gitlab \
  --volume $GITLAB_HOME/logs:/var/log/gitlab \
  --volume $GITLAB_HOME/data:/var/opt/gitlab \
  --shm-size 256m \
  gitlab/gitlab-ee:latest
  ```
> 这将下载并启动 GitLab 容器并发布所需的端口 访问SSH，HTTP和HTTPS。所有 GitLab 数据都将存储为 的子目录。容器将在系统重新启动后自动运行。$GITLAB_HOME restart

